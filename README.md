# DeepSeek Demo - AIåŠŸèƒ½æ¼”ç¤ºé¡¹ç›®

[![GitHub](https://img.shields.io/badge/GitHub-Repository-blue?style=flat-square&logo=github)](https://github.com/yjmyzz/deepseek-demo)
[![Java](https://img.shields.io/badge/Java-21+-orange?style=flat-square&logo=java)](https://openjdk.org/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.1.9-green?style=flat-square&logo=spring)](https://spring.io/projects/spring-boot)
[![License](https://img.shields.io/badge/License-MIT-yellow?style=flat-square)](LICENSE)

ä¸€ä¸ªåŸºäºSpring Bootçš„ç°ä»£åŒ–AIåŠŸèƒ½æ¼”ç¤ºé¡¹ç›®ï¼Œæ”¯æŒæ™ºèƒ½å¯¹è¯ã€è¯­è¨€ç¿»è¯‘å’Œå¤©æ°”æŸ¥è¯¢åŠŸèƒ½ã€‚æœ¬é¡¹ç›®å±•ç¤ºäº†å¦‚ä½•é›†æˆå¤šç§AIæœåŠ¡ï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚

**ğŸŒ GitHubåœ°å€**: [https://github.com/yjmyzz/deepseek-demo](https://github.com/yjmyzz/deepseek-demo)

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **ğŸ¤– åŒAIæ”¯æŒ**: åŒæ—¶æ”¯æŒæœ¬åœ°Ollamaå’Œè¿œç¨‹DeepSeekä¸¤ç§AIæä¾›å•†
- **âš¡ æµå¼äº¤äº’**: å®æ—¶æµå¼è¾“å‡ºï¼Œæä¾›ç±»ä¼¼ChatGPTçš„å¯¹è¯ä½“éªŒ
- **ğŸ¨ ç°ä»£åŒ–UI**: ç¾è§‚çš„å“åº”å¼ç•Œé¢ï¼Œæ”¯æŒæ¯›ç»ç’ƒæ•ˆæœå’Œæµç•…åŠ¨ç”»
- **ğŸ”§ é«˜åº¦å¯é…ç½®**: é€šè¿‡é…ç½®æ–‡ä»¶è½»æ¾ç®¡ç†AIæœåŠ¡å‚æ•°
- **ğŸ“± ç§»åŠ¨å‹å¥½**: å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ğŸš€ å¼€ç®±å³ç”¨**: ç®€å•é…ç½®å³å¯å¿«é€Ÿä½“éªŒAIåŠŸèƒ½
- **ğŸ§ª å®Œæ•´æµ‹è¯•**: åŒ…å«å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç è´¨é‡

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### æ™ºèƒ½å¯¹è¯ ğŸ’¬
- å®æ—¶æµå¼å¯¹è¯ï¼Œæ”¯æŒé•¿æ–‡æœ¬è¾“å‡º
- æ™ºèƒ½è¿‡æ»¤AIæ€è€ƒè¿‡ç¨‹ï¼ˆ`<think>`æ ‡ç­¾ï¼‰
- æ”¯æŒä¸Šä¸‹æ–‡å¯¹è¯
- ä¼˜é›…çš„æ‰“å­—æœºæ•ˆæœ
- æ™ºèƒ½ç©ºæ ¼å¤„ç†ï¼Œé¿å…å•è¯è¿å†™


### è¯­è¨€ç¿»è¯‘ ğŸŒ
- æ”¯æŒä¸­è‹±æ–‡åŒå‘ç¿»è¯‘
- æ™ºèƒ½å¤„ç†ç›¸åŒè¯­è¨€çš„æƒ…å†µï¼ˆç›´æ¥è¿”å›åŸæ–‡ï¼‰
- æµå¼ç¿»è¯‘è¾“å‡º
- å‡†ç¡®çš„ç¿»è¯‘ç»“æœ
- çœŸå®APIè°ƒç”¨ï¼ŒéMockæ•°æ®

### å¤©æ°”æŸ¥è¯¢ ğŸŒ¤ï¸
- åŸºäºçœŸå®APIçš„å¤©æ°”ä¿¡æ¯æŸ¥è¯¢
- é›†æˆwttr.inæœåŠ¡ï¼Œæ”¯æŒå…¨çƒåŸå¸‚æŸ¥è¯¢
- æµå¼å¤©æ°”ä¿¡æ¯è¾“å‡º
- å‹å¥½çš„ä¿¡æ¯å±•ç¤º


### åŒAIæä¾›å•† ğŸ”„
- **æœ¬åœ°Ollama**: å¿«é€Ÿã€å…è´¹ã€éšç§å®‰å…¨ï¼Œæ”¯æŒç¦»çº¿ä½¿ç”¨
- **è¿œç¨‹DeepSeek**: åŠŸèƒ½å¼ºå¤§ã€æ¨¡å‹æœ€æ–°ï¼Œæ”¯æŒæ›´å¤šé«˜çº§åŠŸèƒ½
- æ™ºèƒ½API KeyéªŒè¯
- å®æ—¶è¡¨å•éªŒè¯


## ğŸ“¸ è¿è¡Œæ•ˆæœå›¾

### é¦–é¡µç•Œé¢
![é¦–é¡µ](./images/index_1.jpg)


### é€‰æ‹©AIä¾›åº”å•†
![é¦–é¡µ-é€‰æ‹©æœ¬åœ°Ollama](./images/index_2.jpg)

### API Keyè®¾ç½®
![è®¾ç½®api-key](./images/index_3.jpg)

### æ™ºèƒ½å¯¹è¯ - æœ¬åœ°Ollama
![å¯¹è¯-æœ¬åœ°æ¨¡å‹](./images/chat_ollama.jpg)

### è¯­è¨€ç¿»è¯‘
![è¯­è¨€ç¿»è¯‘](./images/translate_deepseek.jpg)

### å¤©æ°”æŸ¥è¯¢
![å¤©æ°”æŸ¥è¯¢-æœ¬åœ°Ollama](./images/weather_ollama.jpg)

![å¤©æ°”æŸ¥è¯¢-è¿œç¨‹DeepSeek](./images/weather_deepseek.jpg)

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Spring Boot 3.1.9**: ç°ä»£åŒ–çš„Java Webæ¡†æ¶
- **Spring WebFlux**: å“åº”å¼ç¼–ç¨‹ï¼Œæ”¯æŒæµå¼å¤„ç†
- **Thymeleaf**: æœåŠ¡ç«¯æ¨¡æ¿å¼•æ“
- **Lombok**: ç®€åŒ–Javaä»£ç ï¼Œå‡å°‘æ ·æ¿ä»£ç 
- **Jackson**: JSONæ•°æ®å¤„ç†
- **Mockito**: å•å…ƒæµ‹è¯•æ¡†æ¶

### å‰ç«¯æŠ€æœ¯
- **HTML5 + CSS3**: ç°ä»£åŒ–Webæ ‡å‡†
- **JavaScript (ES6+)**: åŸç”ŸJavaScriptï¼Œæ— æ¡†æ¶ä¾èµ–
- **Server-Sent Events (SSE)**: å®ç°æµå¼æ•°æ®æ¨é€
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…å„ç§è®¾å¤‡
- **é€šç”¨AIæµå¼å¤„ç†åº“**: æŠ½è±¡å…¬å…±é€»è¾‘ï¼Œæé«˜ä»£ç å¤ç”¨æ€§

### AIæœåŠ¡
- **Ollama**: æœ¬åœ°AIæœåŠ¡ï¼Œæ”¯æŒå¤šç§æ¨¡å‹
- **DeepSeek API**: äº‘ç«¯AIæœåŠ¡ï¼ŒåŠŸèƒ½å¼ºå¤§
- **wttr.in**: å¤©æ°”ä¿¡æ¯APIæœåŠ¡

### å¼€å‘å·¥å…·
- **Maven**: é¡¹ç›®æ„å»ºå’Œä¾èµ–ç®¡ç†
- **Java 21**: æœ€æ–°çš„LTSç‰ˆæœ¬
- **Spring Boot DevTools**: å¼€å‘æ—¶çƒ­é‡è½½

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Java**: 21+ (æ¨èä½¿ç”¨æœ€æ–°LTSç‰ˆæœ¬)
- **Maven**: 3.6+ 
- **å†…å­˜**: è‡³å°‘4GB RAM
- **å­˜å‚¨**: è‡³å°‘2GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç”¨äºä¸‹è½½ä¾èµ–å’Œè®¿é—®è¿œç¨‹AIæœåŠ¡

### å¯é€‰è¦æ±‚
- **Ollama**: ç”¨äºæœ¬åœ°AIæœåŠ¡ï¼ˆæ¨èå®‰è£…ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yjmyzz/deepseek-demo.git
cd deepseek-demo
```

### 2. ç¼–è¯‘è¿è¡Œ

```bash
# æ¸…ç†å¹¶ç¼–è¯‘
mvn clean compile

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run
```

### 3. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:8081

## ğŸ”§ é…ç½®è¯´æ˜

### åº”ç”¨é…ç½® (`application.yml`)

```yaml
server:
  port: 8081

ai:
  ollama:
    base-url: http://localhost:11434
    api-path: /api/chat
    model: deepseek-r1:7b
    timeout: 30000
  deepseek:
    base-url: https://api.deepseek.com
    api-path: /v1/chat/completions
    model: deepseek-chat
    timeout: 30000
  weather:
    base-url: https://wttr.in
    timeout: 10000
```

### æœ¬åœ°Ollamaé…ç½® (æ¨è)

1. **å®‰è£…Ollama**
   ```bash
   # Windows (ä½¿ç”¨WSL2)
   curl -fsSL https://ollama.ai/install.sh | sh
   
   # macOS
   brew install ollama
   
   # Linux
   curl -fsSL https://ollama.ai/install.sh | sh
   ```

2. **ä¸‹è½½DeepSeekæ¨¡å‹**
   ```bash
   ollama pull deepseek-r1:7b
   ```

3. **å¯åŠ¨OllamaæœåŠ¡**
   ```bash
   ollama serve
   ```

4. **åœ¨åº”ç”¨ä¸­é€‰æ‹©æœ¬åœ°Ollama**
   - è®¿é—®é¦–é¡µ
   - é€‰æ‹©"æœ¬åœ° Ollama"é€‰é¡¹
   - æ— éœ€è¾“å…¥API Key
   - ç‚¹å‡»"å¼€å§‹ä½¿ç”¨"

### è¿œç¨‹DeepSeeké…ç½®

1. **è·å–API Key**
   - è®¿é—® [DeepSeekå®˜ç½‘](https://platform.deepseek.com)
   - æ³¨å†Œè´¦å·å¹¶è·å–API Key

2. **åœ¨åº”ç”¨ä¸­é…ç½®**
   - è®¿é—®é¦–é¡µ
   - é€‰æ‹©"è¿œç¨‹ DeepSeek"é€‰é¡¹
   - è¾“å…¥ä½ çš„API Key
   - ç‚¹å‡»"å¼€å§‹ä½¿ç”¨"

## ğŸ“± ä½¿ç”¨æŒ‡å—

### æ™ºèƒ½å¯¹è¯

1. ç‚¹å‡»é¦–é¡µçš„"æ™ºèƒ½å¯¹è¯"å¡ç‰‡
2. åœ¨èŠå¤©ç•Œé¢è¾“å…¥ä½ çš„é—®é¢˜
3. æŒ‰Enteré”®æˆ–ç‚¹å‡»å‘é€æŒ‰é’®
4. äº«å—AIçš„æµå¼å›å¤

**ç‰¹è‰²åŠŸèƒ½**:
- å®æ—¶æµå¼è¾“å‡º
- æ™ºèƒ½è¿‡æ»¤æ€è€ƒè¿‡ç¨‹
- æ”¯æŒé•¿æ–‡æœ¬å¯¹è¯
- ä¼˜é›…çš„åŠ¨ç”»æ•ˆæœ
- æ™ºèƒ½ç©ºæ ¼å¤„ç†

### è¯­è¨€ç¿»è¯‘

1. ç‚¹å‡»é¦–é¡µçš„"è¯­è¨€ç¿»è¯‘"å¡ç‰‡
2. é€‰æ‹©æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€
3. è¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬
4. ç‚¹å‡»ç¿»è¯‘æŒ‰é’®

**ç‰¹è‰²åŠŸèƒ½**:
- æ™ºèƒ½å¤„ç†ç›¸åŒè¯­è¨€
- æµå¼ç¿»è¯‘è¾“å‡º
- å‡†ç¡®çš„ç¿»è¯‘ç»“æœ
- æ”¯æŒä¸“ä¸šæœ¯è¯­
- çœŸå®APIè°ƒç”¨

### å¤©æ°”æŸ¥è¯¢

1. ç‚¹å‡»é¦–é¡µçš„"å¤©æ°”æŸ¥è¯¢"å¡ç‰‡
2. è¾“å…¥åŸå¸‚åç§°
3. ç‚¹å‡»æŸ¥è¯¢æŒ‰é’®

**ç‰¹è‰²åŠŸèƒ½**:
- çœŸå®å¤©æ°”APIè°ƒç”¨
- æµå¼ä¿¡æ¯è¾“å‡º
- å…¨çƒåŸå¸‚æ”¯æŒ
- å‹å¥½çš„ä¿¡æ¯å±•ç¤º

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
deepseek-demo/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/example/deepseek/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AiConfig.java              # AIæœåŠ¡é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ApiKeyController.java      # API Keyç®¡ç†æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatController.java        # èŠå¤©åŠŸèƒ½æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HomeController.java        # é¦–é¡µæ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TranslateController.java   # ç¿»è¯‘åŠŸèƒ½æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WeatherController.java     # å¤©æ°”æŸ¥è¯¢æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseAiService.java         # AIæœåŠ¡åŸºç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatService.java           # èŠå¤©æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TranslateService.java      # ç¿»è¯‘æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ WeatherService.java        # å¤©æ°”æŸ¥è¯¢æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ DeepseekDemoApplication.java   # åº”ç”¨å¯åŠ¨ç±»
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ static/
â”‚   â”‚       â”‚   â”œâ”€â”€ css/
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ style.css              # æ ·å¼æ–‡ä»¶
â”‚   â”‚       â”‚   â””â”€â”€ js/
â”‚   â”‚       â”‚       â”œâ”€â”€ ai-stream.js           # é€šç”¨AIæµå¼å¤„ç†åº“
â”‚   â”‚       â”‚       â””â”€â”€ README.md              # å‰ç«¯åº“è¯´æ˜
â”‚   â”‚       â”œâ”€â”€ templates/
â”‚   â”‚       â”‚   â”œâ”€â”€ chat.html                  # èŠå¤©é¡µé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ index.html                 # é¦–é¡µ
â”‚   â”‚       â”‚   â”œâ”€â”€ translate.html             # ç¿»è¯‘é¡µé¢
â”‚   â”‚       â”‚   â””â”€â”€ weather.html               # å¤©æ°”æŸ¥è¯¢é¡µé¢
â”‚   â”‚       â”œâ”€â”€ application.yml                # åº”ç”¨é…ç½®æ–‡ä»¶
â”‚   â”‚       â””â”€â”€ banner.txt                     # å¯åŠ¨æ¨ªå¹…
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/com/example/deepseek/
â”‚           â”œâ”€â”€ config/
â”‚           â”‚   â””â”€â”€ AiConfigTest.java          # é…ç½®ç±»æµ‹è¯•
â”‚           â”œâ”€â”€ controller/
â”‚           â”‚   â”œâ”€â”€ ChatControllerTest.java    # èŠå¤©æ§åˆ¶å™¨æµ‹è¯•
â”‚           â”‚   â”œâ”€â”€ TranslateControllerTest.java # ç¿»è¯‘æ§åˆ¶å™¨æµ‹è¯•
â”‚           â”‚   â””â”€â”€ WeatherControllerTest.java # å¤©æ°”æ§åˆ¶å™¨æµ‹è¯•
â”‚           â””â”€â”€ service/
â”‚               â”œâ”€â”€ BaseAiServiceTest.java     # AIæœåŠ¡åŸºç±»æµ‹è¯•
â”‚               â”œâ”€â”€ ChatServiceTest.java       # èŠå¤©æœåŠ¡æµ‹è¯•
â”‚               â”œâ”€â”€ TranslateServiceTest.java  # ç¿»è¯‘æœåŠ¡æµ‹è¯•
â”‚               â””â”€â”€ WeatherServiceTest.java    # å¤©æ°”æœåŠ¡æµ‹è¯•
â”œâ”€â”€ images/                                    # é¡¹ç›®æˆªå›¾
â”œâ”€â”€ pom.xml                                    # Mavené…ç½®
â”œâ”€â”€ README.md                                  # é¡¹ç›®è¯´æ˜
â””â”€â”€ .gitignore                                 # Gitå¿½ç•¥æ–‡ä»¶
```

## ğŸ§ª æµ‹è¯•

é¡¹ç›®åŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•ï¼Œä½¿ç”¨Mockitoæ¡†æ¶ï¼š

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
mvn test

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
mvn test -Dtest=ChatServiceTest

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
mvn surefire-report:report
```

### æµ‹è¯•è¦†ç›–èŒƒå›´

- **é…ç½®ç±»æµ‹è¯•**: éªŒè¯AIæœåŠ¡é…ç½®çš„æ­£ç¡®æ€§
- **æ§åˆ¶å™¨æµ‹è¯•**: æµ‹è¯•APIç«¯ç‚¹çš„å“åº”å’Œé”™è¯¯å¤„ç†
- **æœåŠ¡å±‚æµ‹è¯•**: éªŒè¯ä¸šåŠ¡é€»è¾‘å’ŒAIæœåŠ¡é›†æˆ
- **Mockæµ‹è¯•**: ä½¿ç”¨Mockitoæ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- ä½¿ç”¨Lombokç®€åŒ–ä»£ç 
- éµå¾ªSpring Bootæœ€ä½³å®è·µ
- ä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥
- ä¿æŒä»£ç ç®€æ´å¯è¯»

### å‰ç«¯å¼€å‘

- ä½¿ç”¨åŸç”ŸJavaScriptï¼Œæ— æ¡†æ¶ä¾èµ–
- é€šç”¨AIæµå¼å¤„ç†åº“ä½äº `src/main/resources/static/js/ai-stream.js`
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ç»Ÿä¸€çš„UIé£æ ¼

### åç«¯å¼€å‘

- åŸºäºSpring Boot 3.x
- ä½¿ç”¨WebFluxæ”¯æŒæµå¼å¤„ç†
- é…ç½®åŒ–ç®¡ç†AIæœåŠ¡å‚æ•°
- å®Œæ•´çš„é”™è¯¯å¤„ç†

## ğŸ¨ ç•Œé¢ç‰¹è‰²

### è®¾è®¡ç†å¿µ
- **ç°ä»£åŒ–**: é‡‡ç”¨æœ€æ–°çš„Webè®¾è®¡è¶‹åŠ¿
- **ç®€æ´æ€§**: æ¸…æ™°çš„è§†è§‰å±‚æ¬¡å’Œç›´è§‚çš„æ“ä½œæµç¨‹
- **ä¸€è‡´æ€§**: ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’æ¨¡å¼

### è§†è§‰æ•ˆæœ
- **æ¸å˜èƒŒæ™¯**: åŠ¨æ€æ¸å˜è‰²å½©ï¼Œè¥é€ ç§‘æŠ€æ„Ÿ
- **æ¯›ç»ç’ƒæ•ˆæœ**: ç°ä»£åŒ–çš„åŠé€æ˜æ•ˆæœ
- **æµç•…åŠ¨ç”»**: ä¸°å¯Œçš„äº¤äº’åŠ¨ç”»å’Œè¿‡æ¸¡æ•ˆæœ
- **å“åº”å¼å¸ƒå±€**: å®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸

### ç”¨æˆ·ä½“éªŒ
- **ç›´è§‚æ“ä½œ**: ç®€æ´æ˜äº†çš„ç”¨æˆ·ç•Œé¢
- **å³æ—¶åé¦ˆ**: å®æ—¶çš„æ“ä½œåé¦ˆå’ŒçŠ¶æ€æç¤º
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤æœºåˆ¶

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§è¯¦è§£

### åŒAIæä¾›å•†æ¶æ„

é¡¹ç›®é‡‡ç”¨ç­–ç•¥æ¨¡å¼å®ç°åŒAIæä¾›å•†æ”¯æŒï¼š

```java
// åŸºç±»å®šä¹‰ç»Ÿä¸€æ¥å£
public abstract class BaseAiService {
    protected void executeStreamRequest(String prompt, HttpSession session, 
                                      SseEmitter emitter, String provider, String requestType) {
        if ("ollama".equals(provider)) {
            executeOllamaStreamRequest(prompt, emitter, requestType);
        } else {
            executeDeepSeekStreamRequest(prompt, session, emitter, requestType);
        }
    }
}
```

### æµå¼å¤„ç†æœºåˆ¶

ä½¿ç”¨Server-Sent Events (SSE)å®ç°æµå¼è¾“å‡ºï¼š

```javascript
const eventSource = new EventSource(`/chat/stream?message=${encodeURIComponent(message)}`);
eventSource.onmessage = function(event) {
    appendMessage(event.data);
};
```

### é…ç½®åŒ–ç®¡ç†

é€šè¿‡`@ConfigurationProperties`å®ç°é…ç½®çš„è‡ªåŠ¨ç»‘å®šï¼š

```java
@Data
@Component
@ConfigurationProperties(prefix = "ai")
public class AiConfig {
    private OllamaConfig ollama;
    private DeepSeekConfig deepseek;
    private WeatherConfig weather;
}
```

## ğŸ¯ å‰ç«¯æ¶æ„

### AIæµå¼å¤„ç†é€šç”¨åº“

é¡¹ç›®ä½¿ç”¨è‡ªç ”çš„ `ai-stream.js` é€šç”¨åº“æ¥æŠ½è±¡Ollamaå’ŒDeepSeekçš„æµå¼å¤„ç†é€»è¾‘ï¼š

#### æ ¸å¿ƒç‰¹æ€§
- **ç»Ÿä¸€API**: ä¸ºèŠå¤©ã€ç¿»è¯‘ç­‰åŠŸèƒ½æä¾›ç»Ÿä¸€çš„æµå¼å¤„ç†æ¥å£
- **é«˜åº¦å¯é…ç½®**: æ”¯æŒè‡ªå®šä¹‰ç«¯ç‚¹ã€UIå…ƒç´ ã€æŒ‰é’®æ–‡æœ¬ç­‰
- **æ™ºèƒ½ç©ºæ ¼å¤„ç†**: è‡ªåŠ¨å¤„ç†è‹±æ–‡å•è¯é—´çš„ç©ºæ ¼é—®é¢˜
- **è‡ªåŠ¨çŠ¶æ€ç®¡ç†**: è‡ªåŠ¨ç®¡ç†UIçŠ¶æ€ï¼ˆæŒ‰é’®ç¦ç”¨/å¯ç”¨ã€çŠ¶æ€æ˜¾ç¤ºç­‰ï¼‰
- **å®Œå–„é”™è¯¯å¤„ç†**: åŒ…å«è¶…æ—¶æœºåˆ¶å’Œé”™è¯¯æ¢å¤

#### ä½¿ç”¨ç¤ºä¾‹

```javascript
// åˆ›å»ºèŠå¤©å¤„ç†å™¨
const chatHandler = new AIStreamHandler({
    endpoint: '/chat/stream',
    messageParam: 'message',
    sendButton: document.getElementById('sendBtn'),
    statusElement: document.getElementById('status'),
    enableMessageCounter: true,
    
    onMessage: function(data, handler) {
        const messageId = handler.getCurrentMessageId();
        const aiResponse = document.getElementById(messageId);
        if (aiResponse) {
            aiResponse.innerHTML += data;
        }
    }
});

// å¼€å§‹æµå¼å¯¹è¯
chatHandler.startStream({ message: 'ä½ å¥½' });
```

è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—è¯·å‚è€ƒï¼š`src/main/resources/static/js/README.md`

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Ollamaè¿æ¥å¤±è´¥**
   ```
   é”™è¯¯: Ollama API é”™è¯¯: 404 Not Found
   è§£å†³: ç¡®ä¿OllamaæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œæ£€æŸ¥ç«¯å£11434
   ```

2. **ç«¯å£å ç”¨**
   ```
   é”™è¯¯: Port 8081 was already in use
   è§£å†³: ä¿®æ”¹application.ymlä¸­çš„server.porté…ç½®
   ```

3. **API Keyé”™è¯¯**
   ```
   é”™è¯¯: æŠ±æ­‰ï¼Œè¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥API Keyæ˜¯å¦æ­£ç¡®
   è§£å†³: æ£€æŸ¥DeepSeek API Keyæ˜¯å¦æœ‰æ•ˆ
   ```

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   mvn spring-boot:run -Dspring-boot.run.arguments="--debug"
   ```

2. **æµè§ˆå™¨è°ƒè¯•**
   - æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹Networkæ ‡ç­¾é¡µ
   - æ£€æŸ¥Consoleé”™è¯¯ä¿¡æ¯

3. **æµ‹è¯•AIæœåŠ¡**
   ```bash
   # æµ‹è¯•Ollama
   curl -X POST http://localhost:11434/api/chat \
     -H "Content-Type: application/json" \
     -d '{"model":"deepseek-r1:7b","messages":[{"role":"user","content":"Hello"}]}'
   ```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ”¯æŒæ¸ é“

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/yjmyzz/deepseek-demo/issues)
- **åšå®¢**: [è©ææ ‘ä¸‹çš„æ¨è¿‡](http://yjmyzz.cnblogs.com)
- **é‚®ç®±**: é€šè¿‡GitHubè”ç³»

## ğŸ™ ç‰¹åˆ«æ„Ÿè°¢

### Cursor AI
æœ¬é¡¹ç›®çš„å¤§éƒ¨åˆ†ä»£ç ç”± [Cursor](https://cursor.sh/) ç”Ÿæˆã€‚Cursoræ˜¯ä¸€ä¸ªå¼ºå¤§çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Œæå¤§åœ°æé«˜äº†å¼€å‘æ•ˆç‡ã€‚

**æ„Ÿè°¢Cursorä¸ºè¿™ä¸ªé¡¹ç›®æä¾›çš„å¸®åŠ©ï¼š**
- ç”Ÿæˆå®Œæ•´çš„Spring Booté¡¹ç›®ç»“æ„
- å®ç°AIæœåŠ¡é›†æˆé€»è¾‘
- è®¾è®¡ç°ä»£åŒ–çš„å‰ç«¯ç•Œé¢
- ç¼–å†™è¯¦ç»†çš„æµ‹è¯•ä»£ç 
- ä¼˜åŒ–ä»£ç ç»“æ„å’Œæ€§èƒ½

### å¼€æºç¤¾åŒº
æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€…ï¼Œç‰¹åˆ«æ˜¯ï¼š
- Spring Boot å›¢é˜Ÿ
- Ollama é¡¹ç›®
- DeepSeek å›¢é˜Ÿ
- wttr.in æœåŠ¡

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**è©ææ ‘ä¸‹çš„æ¨è¿‡** - [åšå®¢](http://yjmyzz.cnblogs.com) - [GitHub](https://github.com/yjmyzz)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼ 